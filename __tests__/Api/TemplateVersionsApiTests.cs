/*
 * Lob
 *
 * The Lob API is organized around REST. Our API is designed to have predictable, resource-oriented URLs and uses HTTP response codes to indicate any API errors. <p> Looking for our [previous documentation](https://lob.github.io/legacy-docs/)?
 *
 * The version of the OpenAPI document: 1.3.0
 * Contact: lob-openapi@lob.com
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

using System;
using System.Collections.Generic;
using NUnit.Framework;

using Moq;

using lob.dotnet.Client;
using lob.dotnet.Api;
using lob.dotnet.Model;

namespace __tests__.Api
{
    /// <summary>
    ///  Class for testing TemplateVersionsApi
    /// </summary>
    [TestFixture]
    [Parallelizable(scope: ParallelScope.Self)]
    public class TemplateVersionsApiTests : IDisposable
    {
        private Mock<ITemplateVersionsApi> templateVersionsApiMock;
        private TemplateVersionList fakeTemplateVersionList;
        private TemplateVersion fakeTemplateVersion;

        public TemplateVersionsApiTests()
        {
            templateVersionsApiMock = new Mock<ITemplateVersionsApi>();
            fakeTemplateVersion = new TemplateVersion();
            fakeTemplateVersion.setId("vrsn_fakeId");
            fakeTemplateVersion.setDescription(default(string));
            fakeTemplateVersion.setHtml("fake html");
            fakeTemplateVersion.setEngine(default(EngineHtml));
            fakeTemplateVersion.setSuggestJsonEditor(default(bool));
            fakeTemplateVersion.setMergeVariables(default(Object));
            fakeTemplateVersion.setDateCreated(default(DateTime));
            fakeTemplateVersion.setDateModified(default(DateTime));
            fakeTemplateVersion.setDeleted(default(bool));
            fakeTemplateVersion.setObject(TemplateVersion.ObjectEnum.Version);

            List<TemplateVersion> listOfTemplateVersions = new List<TemplateVersion>();
            TemplateVersion data1 = new TemplateVersion();
            data1.setId("vrsn_fakeId1");
            data1.setDescription(default(string));
            data1.setHtml("fake html");
            data1.setEngine(default(EngineHtml));
            data1.setSuggestJsonEditor(default(bool));
            data1.setMergeVariables(default(Object));
            data1.setDateCreated(default(DateTime));
            data1.setDateModified(default(DateTime));
            data1.setDeleted(default(bool));
            data1.setObject(TemplateVersion.ObjectEnum.Version);
            TemplateVersion data2 = new TemplateVersion();
            data2.setId("vrsn_fakeId2");
            data2.setDescription(default(string));
            data2.setHtml("fake html");
            data2.setEngine(default(EngineHtml));
            data2.setSuggestJsonEditor(default(bool));
            data2.setMergeVariables(default(Object));
            data2.setDateCreated(default(DateTime));
            data2.setDateModified(default(DateTime));
            data2.setDeleted(default(bool));
            data2.setObject(TemplateVersion.ObjectEnum.Version);

            listOfTemplateVersions.Add(data1);
            listOfTemplateVersions.Add(data2);

            fakeTemplateVersionList = new TemplateVersionList();

            fakeTemplateVersionList.setData(listOfTemplateVersions);
            fakeTemplateVersionList.setObject("list");
            fakeTemplateVersionList.setCount(listOfTemplateVersions.Count);
        }

        public void Dispose()
        {
            // Cleanup when everything is done.
        }

        /// <summary>
        /// Test CreateTemplateVersion
        /// </summary>
        [Test]
        public void CreateTemplateVersionTest()
        {
            TemplateVersionWritable templateVersionWritable = new TemplateVersionWritable();
            templateVersionWritable.setDescription("C# templateVersions unit test description");
            templateVersionWritable.setHtml("<html>Template Versions HTML</html>");
            templateVersionWritable.setEngine(default(EngineHtml));

            templateVersionsApiMock.Setup(x => x.CreateTemplateVersion("tmpl_fakeId", templateVersionWritable, It.IsAny<int>())).Returns(fakeTemplateVersion);
            TemplateVersion response = templateVersionsApiMock.Object.CreateTemplateVersion("tmpl_fakeId", templateVersionWritable);

            Assert.IsInstanceOf<TemplateVersion>(response);
            Assert.AreEqual(response.getId(), "vrsn_fakeId");
        }

        /// <summary>
        /// Test CreateTemplateVersionHandlesException
        /// </summary>
        [Test]
        public void CreateTemplateVersionTestHandlesException()
        {
            ApiException fakeException = new ApiException(
                402,
                "This is an error"
            );

            templateVersionsApiMock.Setup(x => x.CreateTemplateVersion(null, null, It.IsAny<int>())).Throws(fakeException);
            try {
                TemplateVersion response = templateVersionsApiMock.Object.CreateTemplateVersion(null, null);
            }
            catch (Exception e) {
                Assert.IsInstanceOf<ApiException>(e);
                Assert.AreEqual(e.Message, fakeException.Message);
            }
        }

        /// <summary>
        /// Test TemplateVersionDelete
        /// </summary>
        [Test]
        public void TemplateVersionDeleteTest()
        {
            TemplateVersionDeletion fakeTemplateVersion = new TemplateVersionDeletion();

            fakeTemplateVersion.setId("vrsn_fakeId");
            fakeTemplateVersion.setDeleted(true);

            templateVersionsApiMock.Setup(x => x.TemplateVersionDelete("tmpl_fakeId", fakeTemplateVersion.getId(), It.IsAny<int>())).Returns(fakeTemplateVersion);

            var response = templateVersionsApiMock.Object.TemplateVersionDelete("tmpl_fakeId", fakeTemplateVersion.getId());

            Assert.IsInstanceOf<TemplateVersionDeletion>(response);
            Assert.AreEqual(response.getDeleted(), fakeTemplateVersion.getDeleted());
            Assert.AreEqual(response.getId(), fakeTemplateVersion.getId());
        }

        /// <summary>
        /// Test TemplateVersionDeleteHandlesException
        /// </summary>
        [Test]
        public void TemplateVersionDeleteHandlesException()
        {
            ApiException fakeException = new ApiException(
                402,
                "This is an error"
            );

            templateVersionsApiMock.Setup(x => x.TemplateVersionDelete(null, null, It.IsAny<int>())).Throws(fakeException);
            try {
                var response = templateVersionsApiMock.Object.TemplateVersionDelete(null, null);
            }
            catch (Exception e) {
                Assert.IsInstanceOf<ApiException>(e);
                Assert.AreEqual(e.Message, fakeException.Message);
            }
        }

        /// <summary>
        /// Test TemplateVersionRetrieve
        /// </summary>
        [Test]
        public void TemplateVersionRetrieveTest()
        {
            templateVersionsApiMock.Setup(x => x.TemplateVersionRetrieve("tmpl_fakeId", fakeTemplateVersion.getId(), It.IsAny<int>())).Returns(fakeTemplateVersion);
            TemplateVersion response = templateVersionsApiMock.Object.TemplateVersionRetrieve("tmpl_fakeId", fakeTemplateVersion.getId());

            Assert.IsInstanceOf<TemplateVersion>(response);
            Assert.AreEqual(response.getId(), fakeTemplateVersion.getId());
        }

        /// <summary>
        /// Test TemplateVersionRetrieveHandlesException
        /// </summary>
        [Test]
        public void TemplateVersionRetrieveTestHandlesException()
        {
            ApiException fakeException = new ApiException(
                402,
                "This is an error"
            );
            templateVersionsApiMock.Setup(x => x.TemplateVersionRetrieve(null, null, It.IsAny<int>())).Throws(fakeException);

            try {
                var response = templateVersionsApiMock.Object.TemplateVersionRetrieve(null, null);
            }
            catch (Exception e) {
                Assert.IsInstanceOf<ApiException>(e);
                Assert.AreEqual(e.Message, fakeException.Message);
            }
        }

        /// <summary>
        /// Test TemplateVersionList
        /// </summary>
        [Test]
        public void TemplateVersionListTest()
        {
            templateVersionsApiMock.Setup(x => x.TemplateVersionsList("tmpl_fakeId", null, null, null, null, null, It.IsAny<int>())).Returns(fakeTemplateVersionList);

            var response = templateVersionsApiMock.Object.TemplateVersionsList("tmpl_fakeId", null, null, null, null, null);

            Assert.IsInstanceOf<TemplateVersionList>(response);
            Assert.AreEqual(response.getCount(), fakeTemplateVersionList.getCount());
        }

        /// <summary>
        /// Test TemplateVersionListHandlesException
        /// </summary>
        [Test]
        public void TemplateVersionListTestHandlesException()
        {
            ApiException fakeException = new ApiException(
                402,
                "This is an error"
            );
            templateVersionsApiMock.Setup(x => x.TemplateVersionsList(null, null, null, null, null, null, It.IsAny<int>())).Throws(fakeException);

            try {
                var response = templateVersionsApiMock.Object.TemplateVersionsList(null, null, null, null, null, null);
            }
            catch (Exception e) {
                Assert.IsInstanceOf<ApiException>(e);
                Assert.AreEqual(e.Message, fakeException.Message);
            }
        }

        /// <summary>
        /// Test TemplateVersionListWithLimitParam
        /// </summary>
        [Test]
        public void TemplateVersionListTestWithLimitParam()
        {
            int limit = 2;

            templateVersionsApiMock.Setup(x => x.TemplateVersionsList("tmpl_fakeId", limit, null, null, null, null, It.IsAny<int>())).Returns(fakeTemplateVersionList);

            var response = templateVersionsApiMock.Object.TemplateVersionsList("tmpl_fakeId", limit, null, null, null, null);

            Assert.IsInstanceOf<TemplateVersionList>(response);
            Assert.AreEqual(response.getCount(), fakeTemplateVersionList.getCount());
        }

        /// <summary>
        /// Test TemplateVersionListWithBeforeParam
        /// </summary>
        [Test]
        public void TemplateVersionListTestWithBeforeParam()
        {
            string before = "before";

            templateVersionsApiMock.Setup(x => x.TemplateVersionsList("tmpl_fakeId", null, before, null, null, null, It.IsAny<int>())).Returns(fakeTemplateVersionList);

            var response = templateVersionsApiMock.Object.TemplateVersionsList("tmpl_fakeId", null, before, null, null, null);

            Assert.IsInstanceOf<TemplateVersionList>(response);
            Assert.AreEqual(response.getCount(), fakeTemplateVersionList.getCount());
        }

        /// <summary>
        /// Test TemplateVersionListWithAfterParam
        /// </summary>
        [Test]
        public void TemplateVersionListTestWithAfterParam()
        {
            string after = "after";

            templateVersionsApiMock.Setup(x => x.TemplateVersionsList("tmpl_fakeId", null, null, after, null, null, It.IsAny<int>())).Returns(fakeTemplateVersionList);

            var response = templateVersionsApiMock.Object.TemplateVersionsList("tmpl_fakeId", null, null, after, null, null);

            Assert.IsInstanceOf<TemplateVersionList>(response);
            Assert.AreEqual(response.getCount(), fakeTemplateVersionList.getCount());
        }

        /// <summary>
        /// Test TemplateVersionListWithIncludeParam
        /// </summary>
        [Test]
        public void TemplateVersionListTestWithIncludeParam()
        {
            List<string> include = new List<string>();
            include.Add("total_count");

            templateVersionsApiMock.Setup(x => x.TemplateVersionsList("tmpl_fakeId", null, null, null, include, null, It.IsAny<int>())).Returns(fakeTemplateVersionList);

            var response = templateVersionsApiMock.Object.TemplateVersionsList("tmpl_fakeId", null, null, null, include, null);

            Assert.IsInstanceOf<TemplateVersionList>(response);
            Assert.AreEqual(response.getCount(), fakeTemplateVersionList.getCount());
        }

        /// <summary>
        /// Test TemplateVersionListWithDateCreatedParam
        /// </summary>
        [Test]
        public void TemplateVersionListTestWithDateCreatedParam()
        {
            Dictionary<String, DateTime> dateCreated = new Dictionary<String, DateTime>();
            dateCreated.Add("gt", DateTime.Now);
            dateCreated.Add("lt", DateTime.Now);

            templateVersionsApiMock.Setup(x => x.TemplateVersionsList("tmpl_fakeId", null, null, null, null, dateCreated, It.IsAny<int>())).Returns(fakeTemplateVersionList);

            var response = templateVersionsApiMock.Object.TemplateVersionsList("tmpl_fakeId", null, null, null, null, dateCreated);

            Assert.IsInstanceOf<TemplateVersionList>(response);
            Assert.AreEqual(response.getCount(), fakeTemplateVersionList.getCount());
        }

        /// <summary>
        /// Test TemplateVersionUpdate
        /// </summary>
        [Test]
        public void TemplateVersionUpdateTest()
        {
            TemplateVersionUpdatable templateVersionUpdate = new TemplateVersionUpdatable();
            templateVersionUpdate.setDescription("C# unit test templateVersion update description");

            templateVersionsApiMock.Setup(x => x.TemplateVersionUpdate("tmpl_fakeId", fakeTemplateVersion.getId(), templateVersionUpdate, It.IsAny<int>())).Returns(fakeTemplateVersion);

            TemplateVersion response = templateVersionsApiMock.Object.TemplateVersionUpdate("tmpl_fakeId", fakeTemplateVersion.getId(), templateVersionUpdate);

            Assert.IsInstanceOf<TemplateVersion>(response);
            Assert.AreEqual(response.getDescription(), fakeTemplateVersion.getDescription());
        }

        /// <summary>
        /// Test TemplateVersionUpdateHandlesException
        /// </summary>
        [Test]
        public void TemplateVersionUpdateTestHandlesException()
        {
            ApiException fakeException = new ApiException(
                402,
                "This is an error"
            );
            templateVersionsApiMock.Setup(x => x.TemplateVersionUpdate(null, null, null, It.IsAny<int>())).Throws(fakeException);

            try {
                var response = templateVersionsApiMock.Object.TemplateVersionUpdate(null, null, null);
            }
            catch (Exception e) {
                Assert.IsInstanceOf<ApiException>(e);
                Assert.AreEqual(e.Message, fakeException.Message);
            }
        }
    }
}
